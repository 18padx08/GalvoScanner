<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TDCBase: tdcstartstop.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>tdcstartstop.h File Reference</h1>
<p>Start Stop Histograms.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="tdcdecl_8h_source.html">tdcdecl.h</a>&quot;</code><br/>

<p><a href="tdcstartstop_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04b057c8296bdfa43c4ef230c2497b17"></a><!-- doxytag: member="tdcstartstop.h::TDC_CROSS_CHANNELS" ref="a04b057c8296bdfa43c4ef230c2497b17" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#a04b057c8296bdfa43c4ef230c2497b17">TDC_CROSS_CHANNELS</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of channels used for cross-channel histograms. <br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#a6ccf5bcb3b26f938d26edaa7e53916ae">TDC_enableStartStop</a> (<a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a> enable)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable Start Stop Histograms.  <a href="#a6ccf5bcb3b26f938d26edaa7e53916ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#a5bfc35ecdd7651a99d48dd06b0ac55fb">TDC_setHistogramParams</a> (<a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> binWidth, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> binCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set Start Stop Histogram Parameters.  <a href="#a5bfc35ecdd7651a99d48dd06b0ac55fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#ab959fd6e6df4055ea3186ea9e8dffeeb">TDC_getHistogramParams</a> (<a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *binWidth, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *binCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read back Start Stop Histogram Parameters.  <a href="#ab959fd6e6df4055ea3186ea9e8dffeeb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#ad49997d8f07d1b0db68952b32cc815a6">TDC_clearAllHistograms</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear Start Stop Histograms.  <a href="#ad49997d8f07d1b0db68952b32cc815a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdcstartstop_8h.html#ad4ac5b81ae7d746f3533a5afb3e88b0a">TDC_getHistogram</a> (<a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> chanA, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> chanB, <a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a> reset, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *data, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *count, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *tooSmall, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *tooLarge, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *eventsA, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *eventsB, <a class="el" href="tdcdecl_8h.html#ab55a4b3d112599322b0cd7c03f7a0a39">Int64</a> *expTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve Start Stop Histogram.  <a href="#ad4ac5b81ae7d746f3533a5afb3e88b0a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Start Stop Histograms. </p>
<p>The header defines functions that process TDC data to a set of start stop histograms. Every histogram has a start and stop input channel; histograms are provieded for all combinations of those. Only the first stop event after a start is counted. The histograms are calculated on the PC.</p>
<p>Use the functions of <a class="el" href="tdcbase_8h.html">tdcbase.h</a> to control the device. <a class="el" href="tdcstartstop_8h.html#a5bfc35ecdd7651a99d48dd06b0ac55fb">TDC_setHistogramParams</a> allows to configure the histogram functions, <a class="el" href="tdcstartstop_8h.html#ad4ac5b81ae7d746f3533a5afb3e88b0a">TDC_getHistogram</a> is used to retrieve the data. If a set of data is required that belongs to the same time, use <a class="el" href="tdcbase_8h.html#a44dae8ed7cd2c61e5e07c0d3f474f495">TDC_freezeBuffers</a> to synchronize. </p>

<p>Definition in file <a class="el" href="tdcstartstop_8h_source.html">tdcstartstop.h</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad49997d8f07d1b0db68952b32cc815a6"></a><!-- doxytag: member="tdcstartstop.h::TDC_clearAllHistograms" ref="ad49997d8f07d1b0db68952b32cc815a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_clearAllHistograms </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear Start Stop Histograms. </p>
<p>Clears all internally generated start stop histograms, i.e. all bins are set to 0. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="a6ccf5bcb3b26f938d26edaa7e53916ae"></a><!-- doxytag: member="tdcstartstop.h::TDC_enableStartStop" ref="a6ccf5bcb3b26f938d26edaa7e53916ae" args="(Bln32 enable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_enableStartStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a>&nbsp;</td>
          <td class="paramname"> <em>enable</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable Start Stop Histograms. </p>
<p>Enables the calculation of start stop histograms. When enabled, all incoming events contribute to the histograms. When disabled, all corresponding functions are unavailable. Disabling saves a relevant amount of memory and CPU load. The function implicitly clears the histograms. Use <a class="el" href="tdcbase_8h.html#a44dae8ed7cd2c61e5e07c0d3f474f495">TDC_freezeBuffers</a> to interrupt the accumulation of events without clearing the functions and <a class="el" href="tdcstartstop_8h.html#ad49997d8f07d1b0db68952b32cc815a6">TDC_clearAllHistograms</a> to clear without interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>enable</em>&nbsp;</td><td>Enable or disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="ad4ac5b81ae7d746f3533a5afb3e88b0a"></a><!-- doxytag: member="tdcstartstop.h::TDC_getHistogram" ref="ad4ac5b81ae7d746f3533a5afb3e88b0a" args="(Int32 chanA, Int32 chanB, Bln32 reset, Int32 *data, Int32 *count, Int32 *tooSmall, Int32 *tooLarge, Int32 *eventsA, Int32 *eventsB, Int64 *expTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_getHistogram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>chanA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>chanB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a>&nbsp;</td>
          <td class="paramname"> <em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>tooSmall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>tooLarge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>eventsA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>eventsB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#ab55a4b3d112599322b0cd7c03f7a0a39">Int64</a> *&nbsp;</td>
          <td class="paramname"> <em>expTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve Start Stop Histogram. </p>
<p>Retrieves one of the start stop histograms accumulated internally. One histogram is provided for the time differences of every event the device has detected (channel independent). 64 histograms are provided for the time differences of events detected on different channels. Events on the first channel reset the time counter, events on the second one integrate the current counter value in the Histogram. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chanA</em>&nbsp;</td><td>First TDC channel of the channel pair. Range 0...7 begins with 0 for channel 1. If this parameter is out of range (negative e.g.) the channel independent histogram is retrieved. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chanB</em>&nbsp;</td><td>Second TDC channel of the channel pair (0...7). If this parameter is out of range (negative e.g.) the channel independent histogram is retrieved. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reset</em>&nbsp;</td><td>If the histogram should be cleared after retrieving. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Output: Histogram data. The array must have at least binCount (see <a class="el" href="tdcstartstop_8h.html#a5bfc35ecdd7651a99d48dd06b0ac55fb">TDC_setHistogramParams</a> ) elements. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Output: Total number of time diffs in the histogram. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tooSmall</em>&nbsp;</td><td>Output: Number of time diffs that were smaller than the smallest histogram bin. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tooLarge</em>&nbsp;</td><td>Output: Number of time diffs that were bigger than the biggest histogram bin. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>eventsA</em>&nbsp;</td><td>Output: Number of events detected on the first channel contributing to the histogram. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>eventsB</em>&nbsp;</td><td>Output: Number of events detected on the second channel contributing to the histogram. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>expTime</em>&nbsp;</td><td>Output: Total exposure time for the histogram: the time difference between the first and the last event that contribute to the histogram. In timebase units. A NULL pointer is allowed to ignore the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="tdcdecl_8h.html#a60362d6282ea2795a96b83de8093f81e">TDC_Ok</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab959fd6e6df4055ea3186ea9e8dffeeb"></a><!-- doxytag: member="tdcstartstop.h::TDC_getHistogramParams" ref="ab959fd6e6df4055ea3186ea9e8dffeeb" args="(Int32 *binWidth, Int32 *binCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_getHistogramParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>binWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>binCount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read back Start Stop Histogram Parameters. </p>
<p>Reads back the parameters for start stop histograms that have been set with <a class="el" href="tdcstartstop_8h.html#a5bfc35ecdd7651a99d48dd06b0ac55fb">TDC_setHistogramParams</a> or their default values, respectively. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>binWidth</em>&nbsp;</td><td>Output: Width of the histograms bins in TDC Time Base units, see <a class="el" href="tdcbase_8h.html#ab59f58ccbf37e1fd4590677c49fd5150">TDC_getTimebase</a> . </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binCount</em>&nbsp;</td><td>Number of bins in the histogram buffers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="a5bfc35ecdd7651a99d48dd06b0ac55fb"></a><!-- doxytag: member="tdcstartstop.h::TDC_setHistogramParams" ref="a5bfc35ecdd7651a99d48dd06b0ac55fb" args="(Int32 binWidth, Int32 binCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_setHistogramParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>binWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>binCount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set Start Stop Histogram Parameters. </p>
<p>Sets parameters for the internally generated start stop histograms. If the function is not called, default values are in place. When the function is called, all collected histogram data are cleared. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>binWidth</em>&nbsp;</td><td>Width of the histogram bins in units of the TDC Time Base, see <a class="el" href="tdcbase_8h.html#ab59f58ccbf37e1fd4590677c49fd5150">TDC_getTimebase</a> . Range = 1 ... 1000000, default = 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binCount</em>&nbsp;</td><td>Number of bins in the histogram buffers. Range = 2 ... 1000000, default = 10000. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jul 31 14:08:26 2015 for TDCBase by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
