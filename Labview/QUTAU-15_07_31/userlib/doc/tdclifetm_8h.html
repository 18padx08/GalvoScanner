<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TDCBase: tdclifetm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>tdclifetm.h File Reference</h1>
<p>Lifetime measurement.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="tdcdecl_8h_source.html">tdcdecl.h</a>&quot;</code><br/>

<p><a href="tdclifetm_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdclifetm_8h.html#aab148e086a656cc4a260b7f589761642">TDC_enableLft</a> (<a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a> enable)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable Lifetime Calculations.  <a href="#aab148e086a656cc4a260b7f589761642"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdclifetm_8h.html#ae54e68f0a497571f0d84d56f71799219">TDC_setLftParams</a> (<a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> binWidth, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> binCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set Histogram Parameters.  <a href="#ae54e68f0a497571f0d84d56f71799219"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdclifetm_8h.html#a9f3856eb7fc4363dbf9a066482520ea1">TDC_setLftStartInput</a> (<a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> startChan)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set TDC Channel for Start Input.  <a href="#a9f3856eb7fc4363dbf9a066482520ea1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdclifetm_8h.html#a54dfbf3d6f4edefbfbbdac183b09c4a9">TDC_resetLftHistogram</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset Histogram.  <a href="#a54dfbf3d6f4edefbfbbdac183b09c4a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDC_API int TDC_CC&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdclifetm_8h.html#af37108b1035a069331740d0da56a4ba4">TDC_getLftHistogram</a> (<a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a> reset, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *data, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *tooBig, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *startEvts, <a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *stopEvts, <a class="el" href="tdcdecl_8h.html#ab55a4b3d112599322b0cd7c03f7a0a39">Int64</a> *expTime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve Start Multistop Histogram.  <a href="#af37108b1035a069331740d0da56a4ba4"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Lifetime measurement. </p>
<p>The header provides functions to calculate a start multistop histogram for lifetime measurement. A selceted channel provides start events while events form all other channels act as stop events. Stop event after are processed until the next start event.</p>
<p>If the start events originate from the dedicated sync input channel with input divider, the skipped start events can be virtually reconstructed. Only one histogram is provided; it is calculated on the PC.</p>
<p>Use the functions of <a class="el" href="tdcbase_8h.html">tdcbase.h</a> to control the device. Set parameters with <a class="el" href="tdclifetm_8h.html#ae54e68f0a497571f0d84d56f71799219">TDC_setLftParams</a> and <a class="el" href="tdclifetm_8h.html#a9f3856eb7fc4363dbf9a066482520ea1">TDC_setLftStartInput</a>. Enable the collection of data with <a class="el" href="tdclifetm_8h.html#aab148e086a656cc4a260b7f589761642">TDC_enableLft</a>; when enabled, all incoming events contribute to the histogram. Use <a class="el" href="tdclifetm_8h.html#af37108b1035a069331740d0da56a4ba4">TDC_getLftHistogram</a> to to retrieve the histogram. </p>

<p>Definition in file <a class="el" href="tdclifetm_8h_source.html">tdclifetm.h</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aab148e086a656cc4a260b7f589761642"></a><!-- doxytag: member="tdclifetm.h::TDC_enableLft" ref="aab148e086a656cc4a260b7f589761642" args="(Bln32 enable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_enableLft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a>&nbsp;</td>
          <td class="paramname"> <em>enable</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable Lifetime Calculations. </p>
<p>Enables the calculation of the start multistop histogram. When enabled, all incoming events contribute to the histogram. When disabled, all Lft functions are unavailable. The function implicitly clears the histogram. Use <a class="el" href="tdcbase_8h.html#a44dae8ed7cd2c61e5e07c0d3f474f495">TDC_freezeBuffers</a> to interrupt the accumulation of events without clearing the histogram and <a class="el" href="tdclifetm_8h.html#a54dfbf3d6f4edefbfbbdac183b09c4a9">TDC_resetLftHistogram</a> to clear without interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>enable</em>&nbsp;</td><td>Enable or disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="af37108b1035a069331740d0da56a4ba4"></a><!-- doxytag: member="tdclifetm.h::TDC_getLftHistogram" ref="af37108b1035a069331740d0da56a4ba4" args="(Bln32 reset, Int32 *data, Int32 *tooBig, Int32 *startEvts, Int32 *stopEvts, Int64 *expTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_getLftHistogram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a07864af4991a94ffb9e17515a4c5c0b3">Bln32</a>&nbsp;</td>
          <td class="paramname"> <em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>tooBig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>startEvts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a> *&nbsp;</td>
          <td class="paramname"> <em>stopEvts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#ab55a4b3d112599322b0cd7c03f7a0a39">Int64</a> *&nbsp;</td>
          <td class="paramname"> <em>expTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve Start Multistop Histogram. </p>
<p>Retrieves one of the start multistop histogram accumulated internally. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reset</em>&nbsp;</td><td>If the histogram should be cleared after retrieving. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Output: Histogram data. The array must have at least binCount (see <a class="el" href="tdclifetm_8h.html#ae54e68f0a497571f0d84d56f71799219">TDC_setLftParams</a>) elements. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tooBig</em>&nbsp;</td><td>Output: Number of time diffs that were bigger than the biggest histogram bin. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>startEvts</em>&nbsp;</td><td>Output: Number of start events contributing to the histogram. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stopEvts</em>&nbsp;</td><td>Output: Number of stop events contributing to the histogram. A NULL pointer is allowed to ignore the data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>expTime</em>&nbsp;</td><td>Total exposure time for the histogram: the time difference between the first and the last event that contribute to the histogram. In timebase units. A NULL pointer is allowed to ignore the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="tdcdecl_8h.html#a60362d6282ea2795a96b83de8093f81e">TDC_Ok</a> (never fails) </dd></dl>

</div>
</div>
<a class="anchor" id="a54dfbf3d6f4edefbfbbdac183b09c4a9"></a><!-- doxytag: member="tdclifetm.h::TDC_resetLftHistogram" ref="a54dfbf3d6f4edefbfbbdac183b09c4a9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_resetLftHistogram </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset Histogram. </p>
<p>Clears the accumulated start multistop histogram. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="ae54e68f0a497571f0d84d56f71799219"></a><!-- doxytag: member="tdclifetm.h::TDC_setLftParams" ref="ae54e68f0a497571f0d84d56f71799219" args="(Int32 binWidth, Int32 binCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_setLftParams </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>binWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>binCount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set Histogram Parameters. </p>
<p>Sets parameters for the histogram. If the function is not called, default values are in place. When the function is called, all collected data are cleared. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>binWidth</em>&nbsp;</td><td>Width of the bins in units of the TDC Time Base, see <a class="el" href="tdcbase_8h.html#ab59f58ccbf37e1fd4590677c49fd5150">TDC_getTimebase</a> . Range = 1 ... 8192, default = 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binCount</em>&nbsp;</td><td>Number of bins in the buffers. Range = 16 ... 8192, default = 256. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="a9f3856eb7fc4363dbf9a066482520ea1"></a><!-- doxytag: member="tdclifetm.h::TDC_setLftStartInput" ref="a9f3856eb7fc4363dbf9a066482520ea1" args="(Int32 startChan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDC_API int TDC_CC TDC_setLftStartInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tdcdecl_8h.html#a7082ccfc3252c18b9d4a5f15aa07b0b3">Int32</a>&nbsp;</td>
          <td class="paramname"> <em>startChan</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set TDC Channel for Start Input. </p>
<p>Selects the TDC channel that provides the start events. All events from other channels act as stop events. The function implicitly clears the histogram. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>startChan</em>&nbsp;</td><td>Channel for start events, Range = 0 ... 7, default = 0 Ignored for A3 devices that always use the sync channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Error code </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Jul 31 14:02:28 2015 for TDCBase by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
